!function(t){"use strict";t.module("ame.lightbox",["material.core","material.components.dialog","material.components.button","material.components.radioButton","material.components.progressCircular","material.components.swipe","material.components.icon"])}(angular),function(t){t.module("ame.lightbox").directive("ameOnLoad",function(){return{restrict:"A",link:function(t,n,e){n.bind("load",function(){t.$apply(e.ameOnLoad)})}}})}(angular),function(t){"use strict";function n(n){function i(i,a){i=i||[],a=t.extend({},e,a),n.show({templateUrl:"ame/lightbox/dialog-lightbox.html",controller:"AmeLightboxController",controllerAs:"ctrl",targetEvent:a.targetEvent,locals:{items:i.map(o),options:a},bindToController:!0})}function o(n){return t.isString(n)?{src:n}:n}return{show:i}}t.module("ame.lightbox").factory("ameLightbox",n);var e={initialIndex:0,keyboard:!0,targetEvent:void 0,buttonClass:""}}(angular),function(t){"use strict";function n(n,e,i,o,a,l,r,c){function d(){f.currentIndex=(f.currentIndex+1)%n.length}function g(){var t=f.currentIndex-1;f.currentIndex=(t>=0?t:t+n.length)%n.length}function u(){f.loading=!1,f.resizing=!0,m().then(function(){f.resizing=!1})}function m(){var t=document.getElementById("mde_lightbox_image"),n=t.getElementsByTagName("img")[0],e=h(),i=n.naturalHeight,o=n.naturalWidth;return n.naturalWidth/e.width>n.naturalHeight/e.height?(n.naturalWidth>e.width&&(o=e.width),i=n.naturalHeight*(o/n.naturalWidth)):(n.naturalHeight>e.height&&(i=e.height),o=n.naturalWidth*(i/n.naturalHeight)),t.style.height=i+"px",t.style.width=o+"px",r(200)}function h(){var t=document.documentElement||document.body,n=.8,e=c("gt-xs")?80:0,i=60,o=window.innerWidth||t.clientWidth,a=window.innerHeight||t.clientHeight,l={width:o*n,height:a*n};return l.width>o-2*e&&(l.width=o-2*e),l.height>a-i&&(l.height=a-i),l}function s(){l.bind("keydown",b)}function x(){l.unbind("keydown",b)}function b(t){if(t)switch(t.keyCode){case 37:case 40:a.$apply(g);break;case 39:case 38:a.$apply(d)}}function p(){x()}var f=this;return!n.length>0?(i.warn("mde.lightbox: ","calling lightbox without any image!"),void o.cancel()):(f.loading=!0,f.options=e,f.imageLoaded=u,f.currentIndex=Math.max(Math.min(e.initialIndex||0,n.length-1),0),f.prev=g,f.next=d,f.imageWidth=null,f.imageHeight=null,e.keyboard&&s(),a.$on("$destroy",p),void a.$watch(function(){return f.currentIndex},function(n){t.isDefined(n)&&(f.loading=!0)}))}t.module("ame.lightbox").controller("AmeLightboxController",n)}(angular),function(t){try{t=angular.module("ame.lightbox")}catch(n){t=angular.module("ame.lightbox",[])}t.run(["$templateCache",function(t){t.put("ame/lightbox/dialog-lightbox.html",'<md-dialog class="mde-lightbox" aria-label="Images" ng-class="{\'_loading\': ctrl.loading}">\n    <md-dialog-content>\n        <md-progress-circular ng-if="ctrl.loading"></md-progress-circular>\n        <div id="mde_lightbox_image" md-swipe-left="ctrl.prev()" md-swipe-right="ctrl.next()">\n            <img ame-on-load="ctrl.imageLoaded()"\n                 ng-show="!ctrl.loading && !ctrl.resizing" ng-src="{{ctrl.items[ctrl.currentIndex].src}}"/>\n        </div>\n        <div layout="row" class="_dots">\n            <md-radio-group ng-model="ctrl.currentIndex">\n                <md-radio-button ng-repeat="item in ctrl.items" ng-value=":: $index"\n                                 aria-label="Image {{:: $index}}"></md-radio-button>\n            </md-radio-group>\n        </div>\n    </md-dialog-content>\n\n    <md-button ng-class="ctrl.options.buttonClass" aria-label="Next" hide-xs\n               class="md-icon-button _next" ng-click="ctrl.next()">\n        <md-icon md-svg-icon="ame/lightbox/icons/ic_chevron_left_black_24px.svg"/>\n    </md-button>\n    <md-button ng-class="ctrl.options.buttonClass" aria-label="Prev" hide-xs\n               class="md-icon-button _prev" ng-click="ctrl.prev()">\n        <md-icon md-svg-icon="ame/lightbox/icons/ic_chevron_left_black_24px.svg"/>\n    </md-button>\n</md-dialog>\n')}])}(),function(t){try{t=angular.module("ame.lightbox")}catch(n){t=angular.module("ame.lightbox",[])}t.run(["$templateCache",function(t){t.put("ame/lightbox/icons/ic_chevron_left_black_24px.svg",'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>')}])}();